<!DOCTYPE html>
<html lang="eng-us">


<!--  index.html  of Quiz game -->

<!-- by Rich Budek  02/08/2018        -->
<!-- for portfolio.  Quiz    -->



<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rich Budek's Quiz Game Demo</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- load in a reset of CSS  -->
    <!-- *RPB  redo the styles after loading in the rest.css  -->
    <!-- <link rel="stylesheet" type="text/css" href="assets/css/reset.css">   -->
    <!-- load my style sheet -->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <!-- load FontAwesome -->
    <!-- <script src="https://use.fontawesome.com/f41d7d3328.js"></script> -->
</head>

<body>

    <nav class="navbar navbar-default" id="navBarCommon">
        <!--  NavBar is loaded in JS based on id="navBarCommon" -->
        <!--  this makes the NavBar be the same across all the web pages -->
    </nav>

    <!--  general layout: 
            1. top row of Title and game buttons
            2. middle div is Question
                question div is picture on left column, question on the right
                next row is button + img or text
    -->
    <div class="wrapper">
        <div class="container-fluid">
            <div class="row">
                <!-- top row, make it two columns for smaller screens -->
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
                    <!-- This is coumn of heading -->
                    <div class="visible-lg-block visible-md-block hidden-sm hidden-xs">
                        <!-- <div>  -->
                        <p>
                            <h1>Quiz Game</h1>
                        </p>
                    </div>
                    <div class="hidden-lg hidden-md visible-sm-block visible-xs-block">
                        <!-- <div>  -->
                        <p>
                            <h1>Quiz Game</h1>
                        </p>
                    </div>
                </div>
                <div class="col-lg-8 col-md-8 col-sm-6 col xs-6 ">
                    <!--                    <div class="row visible-lg-block visible-md-block hidden-sm hidden-xs">   -->
                    <div class="row">
                        <p>
                            <h2> </h2>
                        </p>
                    </div>
                    <div class="row">
                        <!-- This is the column with buttons -->
                        <button style="Float: left; " id="btnPlay" class="bigButton " data-toggle="tooltip " title="Play the game ">PLAY </button>
                        <button style="Float: left; " id="btnReport" class="bigButton " data-toggle="tooltip " title="Future -- will show report of what was missed.">REPORT </button>
                        <button style="Float: left; " id="btnHiScores" class="bigButton " data-toggle="tooltip " title="high scores ">HI SCORES</button>
                        <button style="Float: left; " id="btnHelp" class="bigButton " data-toggle="tooltip " title="Help and about ">
                            <span class="glyphicon glyphicon-info-sign "></span>
                        </button>
                        <button style="Float: left; " id="btnSettings" class="bigButton " data-toggle="tooltip " title="Settings for game ">
                            <span class="glyphicon glyphicon-cog "></span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- main wrapper is row of two columns -->
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <!-- full width for question -->
                    <div id="question">
                        <p> Question goes here </p>
                    </div>
                    <div id="answer_buttons"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
                    <!--                    <div class="row ">  -->
                    <!--                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 ">  -->
                    <div class="panel panel-info panelMinMargin ">
                        <div class="panel-heading panelMinPadding ">
                            <span>question #</span>
                        </div>
                        <div class="panel-body panelMinPadding ">
                            <span id="lblQuestNum" style="display: block; ">--</span>
                        </div>
                    </div>
                    <div class="panel panel-info panelMinMargin ">
                        <div class="panel-heading panelMinPadding ">
                            <span>left</span>
                        </div>
                        <div class="panel-body panelMinPadding ">
                            <span id="lblQuestLeft" style="display: block; ">--</span>
                        </div>
                    </div>
                    <div class="panel panel-info panelMinMargin ">
                        <div class="panel-heading panelMinPadding ">
                            <span>correct</span>
                        </div>
                        <div class="panel-body panelMinPadding ">
                            <span id="lblNumCorrect" style="display: block; ">--</span>
                        </div>
                    </div>
                    <div class="panel panel-info panelMinMargin ">
                        <div class="panel-heading panelMinPadding ">
                            <span>wrong</span>
                        </div>
                        <div class="panel-body panelMinPadding ">
                            <span id="lblNumWrong" style="display: block; ">--</span>
                        </div>
                    </div>
                    <div class="panel panel-info panelMinMargin ">
                        <div class="panel-heading panelMinPadding ">
                            <span>blank</span>
                        </div>
                        <div class="panel-body panelMinPadding ">
                            <span id="lblNumBlank" style="display: block; ">--</span>
                        </div>
                    </div>
                    <div class="panel panel-warning panelMinMargin ">
                        <div class="panel-heading panelMinPadding ">
                            <span>time left</span>
                        </div>
                        <div class="panel-body panelMinPadding ">
                            <span id="lblTimeLeft" style="display: block; ">--</span>
                        </div>
                    </div>
                    <div>
                        <button style="Float: left; " id="btnNextQuestion" class="bigButton " data-toggle="tooltip " title="Next Question">NEXT QUESTION</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <p></p>
            </div>
            <div class="row" id="buttonRow">
            </div>
            <div class="row">
                <p></p>
            </div>
        </div>
    </div>

    <!-- main row -->


    <!-- Modal windows come up next -->
    <!--   Modal test windows until rest of logic is complete  -->
    <!-- Won Modal -->
    <div id="modOverWon" class="modal">
        <div class="modal-content">
            <span id="closeModOverWon" class="close">&times;</span>
            <h2>
                <p>You Won !!!</p>
            </h2>
            <p> </p>
            <p id="modWonAnswer"> </p>
            <p>To play again, press the PLAY button and then pick NEW GAME</p>
        </div>
    </div>
    <!-- lost Modal -->
    <div id="modOverLost" class="modal">
        <div class="modal-content">
            <span id="closeModOverLost" class="close">&times;</span>
            <h2>
                <p>Sorry you lost</p>
            </h2>
            <p> </p>
            <p id="modLostAnswer"></p>
            <p>To play again, press the PLAY button and then pick NEW GAME</p>
        </div>
    </div>
    <!-- Answer Result modal -->
    <div id="modAnswerResult" class="modal">
        <div class="modal-content">
            <span id="closeAnswerResult" class="close">&times;</span>
            <div id="modAnswerDiv">
                <h2>
                    <p>Answer result</p>
                </h2>
                <p> </p>
                <p>Next Question</p>
            </div>
        </div>
    </div>
    <!-- Game Over -->
    <div id="modGameOver" class="modal">
        <div class="modal-content">
            <span id="closeModGameOver" class="close">&times;</span>
            <h2>
                <p>Game is Over</p>
            </h2>
            <div id="modGameOverResults">
                <h4>test data</h4>
            </div>
            <p>
                <h4>To play again, press the PLAY button and then pick NEW GAME
                    <br/> To get more results click the REPORT button</h4>
            </p>
        </div>
    </div>
    <!-- MODAL GameBlank -->
    <div id="modGameBlank" class="modal">
        <div class="modal-content">
            <span id="closeModGameBlank" class="close">&times;</span>
            <h2>
                <p>No Game</p>
            </h2>
            <p> </p>
            <p>No game has been started. To familiarize yourself with the play, click the Info button.
            </p>
            <p>To begin play, press the PLAY button and then pick NEW GAME</p>
        </div>
    </div>


    <!-- MODAL Settings  -->
    <div id="modSettings" class="modal">
        <div class="modal-content">
            <span id="closeModSettings" class="close">&times;</span>
            <h4>
                <p>Settings for the game</p>
            </h4>
            <p>These are the global settings to be used throughout the game</p>
            <p>Settings will write to ConfigData object</p>
            <p>Current settings are timer for each question = 10sec </p>
            <p>Timer for result display = 5sec</p>
            <div class="modal-footer">
            </div>
        </div>
    </div>
    <!-- Help Modal -->
    <div id="modHelp" class="modal">
        <div class="modal-content">
            <span id="closeModHelp" class="close">&times;</span>
            <h4>
                <p>Help / About</p>
            </h4>
            <p>Quiz Demonstration Game by Rich Budek</p>
            <p></p>
            <p>This game is meant to run inside of a browser.
            </p>
            <p>This is a trivia quiz game, with a twist, you are timed per question. If you don't answer in time, then the display
                jumps to the next question. You have two categories to choose from.
                Questions can be all text, graphic with text, or text with graphic answers.
            </p>
            <p> </p>
            <div class="modal-footer">
                <span>
                    <button style="Float: left; " id="btnHelp2" class="btn btn-default bigButton " data-toggle="tooltip " title="Get technical details">Technical Details</button>
                </span>
            </div>
        </div>
    </div>
    <!-- Help Modal -->
    <div id="modHelp2" class="modal">
        <div class="modal-content">
            <span id="closeModHelp2" class="close">&times;</span>
            <h4>
                <p>Help / About</p>
            </h4>
            <p>Quiz Demonstration by Rich Budek</p>
            <p></p>
            <p>This game is meant to run inside of a browser using HTML and CSS for styling. Twitters BootStrap is used for
                some of the more advanced display functions and popups.
            </p>
            <p>
                In this version, there are no databases, just objects. The object has been defined to be universal to accept any number of
                possible answers to a question and to allow an image for a question as well as image answers to pick from
            </p>
            <p>Javascript and jQuery are the languages that do all of the processing and also manipulates the page's element's
                using jQuery. are stored as objects in an array and then placed into the collection area using jAppend.
            </p>
            <p>The windows is responsive (liquid) will change based on the size of the screen, with buttons moving, etc. as
                the screen width changes. Dialog is presented to the user using modals.
            </p>
        </div>
    </div>
    <!-- Hi-Scores Modal -->
    <div id="modHiScores" class="modal">
        <div class="modal-content">
            <span id="closeModHiScores" class="close">&times;</span>
            <h4>
                <p>Hi-Scores for this Game</p>
            </h4>
            <p>Since no high scores are being listed, I guess Rich Budek has the high score</p>
        </div>
    </div>
    <!-- Play Modal -->
    <div id="modPlay" class="modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <span id="closeModPlay" class="close">&times;</span>
                <h4>
                    <p>Play the Game</p>
                </h4>
                <p></p>
                <p>Enter your name: </p>
                <div class="modal-footer">
                    <span>
                        <button style="Float: left; " id="btnNewGame" class="btn btn-default bigButton " data-toggle="tooltip " title="Start a new game">New Game</button>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <!-- end of modal windows -->

    <div class="footer ">
        <span class="label label-default ">Copyright &COPY; 2018 Rich Budek</span>
    </div>


    <!--  Load Javascript libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js "></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js "></script>

    <!-- load my custom js for this project -->
    <script src="assets/javascript/globals.js "></script>
    <script src="assets/javascript/script.js "></script>
    <script src="assets/javascript/modals.js "></script>
    <script src="assets/javascript/play.js "></script>
    <script>

        $(document).ready(function () {
            //activate BootStrap tool tips
            //but don't turn on for phone / tablet
            $('[data-toggle="tooltip"]').tooltip();



            // push new buttons into the div
            var buttonRowDiv = $("#buttonRow");
            var bttnArray = [];
            var bttnNew;
            var bttnImgString;
            var bttnImgNew;  //actual image


            //startup the main loop and reset variables
            //no time to clean up everything some may be reset
            //twice, but thats ok for now.
            gameObj.init();   //init all the game variables
            gameObj.isGameLost = false;
            gameObj.isGameWon = false;
            gameObj.isGameOver = false;  //first time thru loop, set game over
            gameObj.isGameStartuop = true;
            gameObj.update();  //recalc all the questions

            gameObj.redraw(configData);


            //evalButtonPress defined in globals file
            evalButtonPress = function () {
                //all of the buttons call this routine
                clearInterval(questTimer);  //stop timer right away
                var bttnClicked = $(this).attr("data-answer");
                console.log("button =" + bttnClicked);
                questionObj.storeUserAnswerPress(parseInt(bttnClicked));
                dispResultStart();
                //nextQuestionStart();
            };

            $("#btnNewGame").on("click", startNewGameButtonPressed);

            function startNewGameButtonPressed() {
                //multiple entry paths
                //close the play modal just to be sure
                modalPlay.style.display = "none";

                //set values for new screen, they are in gameObj
                playObj.startNewGame(configData);
                gameObj.redraw();
                //**** displayQuestion is routine to put text and buttons on page
                questionObj.displayQuestion();
                gameObj.questionNum = -1; //because it inc on start of f()
                nextQuestionStart();
                //call next screen button
            };

            //"next" button for bebugging
            $("#" + configData.bttnNextQuest).on("click", nextQuestionStart);
            function nextQuestionStart() {
                //pulls up new question
                //does NOT check if last questions should have been made prior to calling
                //gameObj questNum  should have already been incremented
                //display the question
                console.log("next quest start");
                gameObj.nextQuestion();
                //check if the game is over
                if (!gameObj.isGameOver) {
                    //start the timer
                    if (questTimer != undefined) {
                        //timer has been set
                        clearInterval(questTimer);
                    };
                    $(".btn-answers").on("click", evalButtonPress);
                    gameObj.tmrQuestCount = configData.tmrPerQuest;
                    questTimer = setInterval(tmrScreenCountPulse, 1000);
                } else {
                    //game is over
                    //modal alread brought up in gameObj.nextQuestion
                }
            };
            $("#" + configData.bttnNextQuest).css("display", "none"); //hide button

            function tmrScreenCountPulse() {
                //called for every second pulse
                //decrement gameObj.tmrAnsweCount
                gameObj.tmrQuestCount--;
                //if the count <= 0 then timed out
                if (gameObj.tmrQuestCount <= 0) {
                    //timed out
                    clearInterval(questTimer);
                    //store as - 1
                    questionObj.storeUserAnswerPress(parseInt(-1));
                    //call function to pull result with timer
                    dispResultStart();
                } else {
                    gameObj.redraw();
                };
            };

            function dispResultStart() {
                //displays the result
                questionObj.evaluateQuestion(gameObj.questionNum);
                gameObj.displayRightWrong(gameObj.questionNum);
                resultTimer = setTimeout(dispResultStop, configData.tmrAnswerResult * 1000);
            };

            function dispResultStop() {
                //disp result timer has timed out
                //close out the results
                clearTimeout(resultTimer);
                modalAnswerResult.style.display = "none";
                nextQuestionStart();
            };

            function evalButtonPress() {
                var bttnClicked = $(this).attr("data-answer");
                console.log("button =" + bttnClicked);
                questionObj.storeUserAnswerPress(parseInt(bttnClicked));
                nextQuestionStart();
            };

            //here is the main loop now for key presses
            document.onkeyup = function (event) {
                //no keys used YET on this game
                //eventually allow key press
            }
        });
    </script>
</body>

</html>